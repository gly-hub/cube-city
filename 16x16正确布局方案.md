# 16×16 地图正确布局方案（满足道路约束）

## 关键约束
1. **除了 `wind_power` 和 `park`，所有建筑必须相邻道路**
2. **道路本身也占用格子**
3. **需要设计合理的道路网格，确保所有建筑都能访问**

## 道路布局策略

采用密集网格布局，确保每个建筑格子都能访问到道路：

### 方案：每2格一条道路（最密集）
```
R B R B R B R B R B R B R B R B
B B B B B B B B B B B B B B B B
R B R B R B R B R B R B R B R B
B B B B B B B B B B B B B B B B
R B R B R B R B R B R B R B R B
B B B B B B B B B B B B B B B B
R B R B R B R B R B R B R B R B
B B B B B B B B B B B B B B B B
R B R B R B R B R B R B R B R B
B B B B B B B B B B B B B B B B
R B R B R B R B R B R B R B R B
B B B B B B B B B B B B B B B B
R B R B R B R B R B R B R B R B
B B B B B B B B B B B B B B B B
R B R B R B R B R B R B R B R B
R B R B R B R B R B R B R B R B
```

道路计算：
- 水平道路：8行 × 16格 = 128格
- 垂直道路：8列 × 16格 = 128格
- 交叉口：9 × 9 = 81个（重复计算）
- 实际道路：128 + 128 - 81 = 175格（太多了！）

### 方案：每3格一条道路（平衡）
```
R B B R B B R B B R B B R B B R
B B B B B B B B B B B B B B B B
B B B B B B B B B B B B B B B B
R B B R B B R B B R B B R B B R
B B B B B B B B B B B B B B B B
B B B B B B B B B B B B B B B B
R B B R B B R B B R B B R B B R
B B B B B B B B B B B B B B B B
B B B B B B B B B B B B B B B B
R B B R B B R B B R B B R B B R
B B B B B B B B B B B B B B B B
B B B B B B B B B B B B B B B B
R B B R B B R B B R B B R B B R
B B B B B B B B B B B B B B B B
B B B B B B B B B B B B B B B B
R B B R B B R B B R B B R B B R
```

道路计算：
- 水平道路：6行 × 16格 = 96格
- 垂直道路：6列 × 16格 = 96格
- 交叉口：7 × 7 = 49个（重复计算）
- 实际道路：96 + 96 - 49 = 143格（还是太多）

### 方案：每4格一条道路（更稀疏）
```
R B B B R B B B R B B B R B B B
B B B B B B B B B B B B B B B B
B B B B B B B B B B B B B B B B
B B B B B B B B B B B B B B B B
R B B B R B B B R B B B R B B B
B B B B B B B B B B B B B B B B
B B B B B B B B B B B B B B B B
B B B B B B B B B B B B B B B B
R B B B R B B B R B B B R B B B
B B B B B B B B B B B B B B B B
B B B B B B B B B B B B B B B B
B B B B B B B B B B B B B B B B
R B B B R B B B R B B B R B B B
B B B B B B B B B B B B B B B B
B B B B B B B B B B B B B B B B
B B B B B B B B B B B B B B B B
```

道路计算：
- 水平道路：4行 × 16格 = 64格
- 垂直道路：4列 × 16格 = 64格
- 交叉口：5 × 5 = 25个（重复计算）
- 实际道路：64 + 64 - 25 = 103格（还是太多）

## 重新计算：实际道路占用

根据之前的假设，道路占用18%，即256 × 0.18 = 46格。

但如果我们要求每个建筑都相邻道路，那么：
- 16×16 = 256格
- 如果采用每4格一条道路的网格，实际需要约103格道路
- 这超过了18%的假设

**问题在于：18%的道路占用假设太低了！**

实际情况下，如果要求每个建筑都相邻道路，道路占用应该在**35-40%**左右。

让我重新计算：

### 实际可行的道路布局

采用每3格一条道路（3×3网格）：
- 水平道路：6行
- 垂直道路：6列
- 实际道路：约100-110格（40-43%）

或者采用更稀疏的布局，但增加道路密度：
- 每4格一条道路，但增加一些连接道路
- 实际道路：约80-90格（31-35%）

## 重新设计方案

假设道路占用35%（更现实的数字）：
- 总格子：256
- 道路：256 × 0.35 = 90格
- 可用建筑：256 - 90 = 166格

### 建筑分布（基于166格）
- 工业：166 × 0.30 = 50格
- 住宅：166 × 0.25 = 42格
- 商业：166 × 0.20 = 33格
- 环境：166 × 0.15 = 25格
- 基础设施：166 × 0.10 = 16格

### 产出重新计算

**工业建筑（50格）**
- 工厂：25个 × 77.5 = 1,938
- 化学工厂Lv3：25个 × 472.5 = 11,813
- 小计：13,751

**商业建筑（33格）**
- 商店Lv3：20个 × 168 = 3,360
- 办公室Lv3：13个 × 223.2 = 2,902
- 小计：6,262

**每日总收入：20,013**

**人口（42格住宅）**
- 高级住宅Lv2：29个 × 86.4 = 2,506
- 豪华住宅Lv3：13个 × 144 = 1,872
- 最大人口：4,378
- 就业岗位：25×20 + 25×80 + 20×40 + 13×60 = 500 + 2,000 + 800 + 780 = 4,080
- **实际人口：4,080**

**建筑数量：166 + 90 = 256**

## 修正后的最优值

基于35%道路占用的现实布局：
- 人口：4,080
- 每日收入：20,013
- 稳定度：85-90
- 建筑数量：256

## 解锁条件建议（65%难度）

- 人口：2,650（65%最优值）
- 每日收入：13,000（65%最优值）
- 稳定度：65
- 建筑数量：166（65%最优值）


